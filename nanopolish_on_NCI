# install biopython
module load python3/3.6.2
mkdir -p ~/myapps/nanopolish/0.9.0
export PYTHONPATH=/home/106/ap5514/myapps/nanopolish/0.9.0/lib/python3.6/site-packages
mkdir -p $PYTHONPATH
export PATH=/home/106/ap5514/myapps/nanopolish/0.9.0/bin:$PATH
pip3 install biopython --upgrade pip --prefix /home/106/ap5514/myapps/nanopolish/0.9.0 --ignore-installed

# install pysam
pip3 install pysam --upgrade pip --prefix /home/106/ap5514/myapps/nanopolish/0.9.0 --ignore-installed

#load all the required modules incluing gcc-4.8+ and eigen and hdf5 and hts
module load gcc/4.9.0
module load hdf5/1.8.14
module load eigen/3.2.8
module load htslib/1.4

#install nanopolish
git clone --recursive https://github.com/jts/nanopolish.git
cd nanopolish
make --HDF5=noinstall --EIGEN=noinstall --HTS=noinstall
